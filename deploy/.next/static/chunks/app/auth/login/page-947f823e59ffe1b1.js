(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{5538:(e,r,s)=>{Promise.resolve().then(s.bind(s,6286))},6046:(e,r,s)=>{"use strict";var a=s(6658);s.o(a,"useParams")&&s.d(r,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(r,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(r,{useSearchParams:function(){return a.useSearchParams}})},6286:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>u});var a=s(5155),t=s(8173),l=s.n(t),n=s(2615),d=s(6046),o=s(2115);let i=()=>{let e=(0,d.useRouter)(),r=(0,d.useSearchParams)(),[s,t]=(0,o.useState)(r.get("error")||""),[i,u]=(0,o.useState)(!1),c=async r=>{r.preventDefault(),u(!0),t("");let s=new FormData(r.currentTarget);try{let r=await (0,n.signIn)("credentials",{email:s.get("email"),password:s.get("password"),redirect:!1});if(null==r?void 0:r.error)t("Invalid email or password");else if(null==r?void 0:r.ok){let r=s.get("email");"admin@viken.com"===r?e.push("/admin/dashboard"):e.push("/user/dashboard"),e.refresh()}}catch(e){console.error("Login error:",e),t("An error occurred during sign in")}finally{u(!1)}};return(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white p-8 shadow-md",children:[(0,a.jsx)("h1",{className:"mb-6 text-2xl font-bold text-gray-900",children:"تسجيل الدخول"}),s&&(0,a.jsx)("div",{className:"mb-4 rounded-md bg-red-50 p-4 text-red-700",children:s}),(0,a.jsxs)("form",{onSubmit:c,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"البريد الإلكتروني"}),(0,a.jsx)("input",{type:"email",id:"email",name:"email",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"كلمة المرور"}),(0,a.jsx)("input",{type:"password",id:"password",name:"password",required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),(0,a.jsx)("button",{type:"submit",disabled:i,className:"w-full rounded-md bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:i?"جاري الدخول...":"دخول"})]}),(0,a.jsxs)("p",{className:"mt-4 text-center text-sm text-gray-600",children:["ليس لديك حساب؟"," ",(0,a.jsx)(l(),{href:"/auth/register",className:"font-medium text-blue-600 hover:text-blue-500",tabIndex:0,children:"سجل الآن"})]})]})})},u=()=>(0,a.jsx)(o.Suspense,{fallback:(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 p-4",children:"Loading..."}),children:(0,a.jsx)(i,{})})}},e=>{var r=r=>e(e.s=r);e.O(0,[615,173,441,517,358],()=>r(5538)),_N_E=e.O()}]);