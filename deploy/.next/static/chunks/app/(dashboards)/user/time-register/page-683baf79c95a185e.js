(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{2920:(e,s,t)=>{Promise.resolve().then(t.bind(t,7502))},6046:(e,s,t)=>{"use strict";var r=t(6658);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},7502:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(5155),a=t(2615),l=t(6046),i=t(2115),n=t(8173),d=t.n(n);let c=[{id:1,name:"مشروع 1"},{id:2,name:"مشروع 2"},{id:3,name:"مشروع 3"}],o=[{id:1,date:"2024-03-15",project:"مشروع 1",hours:8,description:"تطوير واجهة المستخدم",status:"معلق"},{id:2,date:"2024-03-14",project:"مشروع 2",hours:6,description:"اجتماع مع العميل",status:"معتمد"}];function u(){let{data:e,status:s}=(0,a.useSession)(),t=(0,l.useRouter)(),[n,u]=(0,i.useState)(""),[x,m]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[g,f]=(0,i.useState)("");(0,i.useEffect)(()=>{var r;"unauthenticated"===s?t.push("/auth/login"):(null==e?void 0:null===(r=e.user)||void 0===r?void 0:r.role)!=="user"&&t.push("/auth/login")},[s,e,t]);let b=async()=>{await (0,a.signOut)({redirect:!0,callbackUrl:"/auth/login"})};return"loading"===s?(0,r.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,r.jsx)("div",{className:"text-lg",children:"جاري التحميل..."})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,r.jsx)("header",{className:"fixed left-0 right-0 top-0 z-50 bg-white shadow-md",children:(0,r.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-4",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Viken Bad"}),(0,r.jsx)("button",{onClick:b,className:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"تسجيل خروج"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between border-t pt-4",children:[(0,r.jsxs)("nav",{className:"flex items-center space-x-6 space-x-reverse",children:[(0,r.jsx)(d(),{href:"/user/time-register",className:"text-sm font-medium text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"تسجيل الوقت"}),(0,r.jsx)(d(),{href:"/user/my-log",className:"text-sm font-medium text-gray-700 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"سجلي"})]}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"لوحة المستخدم"})]})]})})}),(0,r.jsx)("main",{className:"mx-auto max-w-7xl px-4 pt-32",children:(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"rounded-xl bg-white p-6 shadow-sm",children:[(0,r.jsx)("h3",{className:"mb-6 text-xl font-semibold text-gray-900",children:"تسجيل وقت جديد"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log({date:n,projectId:x,hours:h,description:g}),u(""),m(""),p(""),f("")},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"التاريخ"}),(0,r.jsx)("input",{type:"date",id:"date",value:n,onChange:e=>u(e.target.value),required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"project",className:"block text-sm font-medium text-gray-700",children:"المشروع"}),(0,r.jsxs)("select",{id:"project",value:x,onChange:e=>m(e.target.value),required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"اختر المشروع"}),c.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"hours",className:"block text-sm font-medium text-gray-700",children:"عدد الساعات"}),(0,r.jsx)("input",{type:"number",id:"hours",min:"0",max:"24",step:"0.5",value:h,onChange:e=>p(e.target.value),required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"الوصف"}),(0,r.jsx)("input",{type:"text",id:"description",value:g,onChange:e=>f(e.target.value),required:!0,className:"mt-1 block w-full rounded-md border border-gray-300 p-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500"})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{type:"submit",className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"تسجيل الوقت"})})]})]}),(0,r.jsxs)("div",{className:"rounded-xl bg-white p-6 shadow-sm",children:[(0,r.jsx)("h3",{className:"mb-6 text-xl font-semibold text-gray-900",children:"التسجيلات الأخيرة"}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"التاريخ"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"المشروع"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"الساعات"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"الوصف"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"الحالة"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:o.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.date})}),(0,r.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.project})}),(0,r.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.hours})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.description})}),(0,r.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,r.jsx)("span",{className:"inline-flex rounded-full px-2 text-xs font-semibold leading-5 ".concat("معتمد"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})})]},e.id))})]})})]})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[615,173,441,517,358],()=>s(2920)),_N_E=e.O()}]);