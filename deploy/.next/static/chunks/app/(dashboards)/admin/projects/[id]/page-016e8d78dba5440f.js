(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[992],{3102:(e,s,t)=>{Promise.resolve().then(t.bind(t,5835))},6046:(e,s,t)=>{"use strict";var a=t(6658);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},5835:(e,s,t)=>{"use strict";t.d(s,{default:()=>m});var a=t(5155),i=t(2615),l=t(6046),r=t(2115),d=t(8173),n=t.n(d);let c={1:{id:1,name:"مشروع 1",client:"عميل 1",startDate:"2024-03-01",endDate:"2024-06-30",status:"جاري",progress:25,description:"وصف تفصيلي للمشروع وأهدافه الرئيسية",totalHours:450,totalUsers:8,budget:"150,000 kr"},2:{id:2,name:"مشروع 2",client:"عميل 2",startDate:"2024-02-15",endDate:"2024-05-15",status:"جاري",progress:60,description:"وصف تفصيلي للمشروع الثاني",totalHours:320,totalUsers:5,budget:"100,000 kr"},3:{id:3,name:"مشروع 3",client:"عميل 3",startDate:"2024-01-01",endDate:"2024-03-31",status:"مكتمل",progress:100,description:"وصف تفصيلي للمشروع الثالث",totalHours:280,totalUsers:4,budget:"80,000 kr"}},x=[{id:1,user:"أحمد محمد",date:"2024-03-15",hours:8,description:"تطوير واجهة المستخدم",status:"معتمد"},{id:2,user:"سارة أحمد",date:"2024-03-15",hours:6,description:"تصميم قاعدة البيانات",status:"معتمد"},{id:3,user:"محمد علي",date:"2024-03-14",hours:7,description:"اختبار الوظائف",status:"معلق"}];function m(){let{data:e,status:s}=(0,i.useSession)(),t=(0,l.useRouter)(),d=(0,l.useParams)(),[m,o]=(0,r.useState)(c[d.id]);(0,r.useEffect)(()=>{var a;"unauthenticated"===s?t.push("/auth/login"):(null==e?void 0:null===(a=e.user)||void 0===a?void 0:a.role)!=="admin"&&t.push("/auth/login")},[s,e,t]),(0,r.useEffect)(()=>{o(c[d.id])},[d.id]);let u=async()=>{await (0,i.signOut)({redirect:!0,callbackUrl:"/auth/login"})};return"loading"===s?(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsx)("div",{className:"text-lg",children:"جاري التحميل..."})}):m?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsx)("header",{className:"fixed left-0 right-0 top-0 z-50 bg-white shadow-md",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Viken Bad"}),(0,a.jsx)("button",{onClick:u,className:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"تسجيل خروج"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between border-t pt-4",children:[(0,a.jsxs)("nav",{className:"flex items-center space-x-6 space-x-reverse",children:[(0,a.jsx)(n(),{href:"/admin/users",className:"text-sm font-medium text-gray-700 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"إدارة المستخدمين"}),(0,a.jsx)(n(),{href:"/admin/projects",className:"text-sm font-medium text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"المشاريع"})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"لوحة الإدارة"})]})]})})}),(0,a.jsx)("main",{className:"mx-auto max-w-7xl px-4 pt-32",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-xl bg-white p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:m.name}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:m.description})]}),(0,a.jsx)("span",{className:"inline-flex rounded-full px-3 py-1 text-sm font-semibold ".concat("مكتمل"===m.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:m.status})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)("div",{className:"rounded-lg bg-gray-50 p-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"العميل"}),(0,a.jsx)("div",{className:"mt-1 text-lg font-semibold",children:m.client})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-gray-50 p-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"المدة"}),(0,a.jsxs)("div",{className:"mt-1 text-lg font-semibold",children:[m.startDate," - ",m.endDate]})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-gray-50 p-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"الميزانية"}),(0,a.jsx)("div",{className:"mt-1 text-lg font-semibold",children:m.budget})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-gray-50 p-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"نسبة الإنجاز"}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("div",{className:"h-2.5 w-full rounded-full bg-gray-200",children:(0,a.jsx)("div",{className:"h-2.5 rounded-full bg-blue-600",style:{width:"".concat(m.progress,"%")}})}),(0,a.jsxs)("span",{className:"mt-1 text-sm text-gray-600",children:[m.progress,"%"]})]})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-3",children:[(0,a.jsxs)("div",{className:"rounded-xl bg-white p-6 shadow-sm",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"إجمالي الساعات"}),(0,a.jsxs)("div",{className:"mt-2 flex items-baseline",children:[(0,a.jsx)("div",{className:"text-3xl font-bold",children:m.totalHours}),(0,a.jsx)("div",{className:"mr-2 text-sm text-gray-500",children:"ساعة"})]})]}),(0,a.jsxs)("div",{className:"rounded-xl bg-white p-6 shadow-sm",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"عدد المستخدمين"}),(0,a.jsxs)("div",{className:"mt-2 flex items-baseline",children:[(0,a.jsx)("div",{className:"text-3xl font-bold",children:m.totalUsers}),(0,a.jsx)("div",{className:"mr-2 text-sm text-gray-500",children:"مستخدم"})]})]}),(0,a.jsxs)("div",{className:"rounded-xl bg-white p-6 shadow-sm",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"متوسط الساعات اليومي"}),(0,a.jsxs)("div",{className:"mt-2 flex items-baseline",children:[(0,a.jsx)("div",{className:"text-3xl font-bold",children:(m.totalHours/30).toFixed(1)}),(0,a.jsx)("div",{className:"mr-2 text-sm text-gray-500",children:"ساعة/يوم"})]})]})]}),(0,a.jsxs)("div",{className:"rounded-xl bg-white p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"سجل الوقت"}),(0,a.jsx)("button",{className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"تصدير التقرير"})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"المستخدم"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"التاريخ"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"الساعات"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"الوصف"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"الحالة"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:x.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.user})}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.date})}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.hours})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.description})}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,a.jsx)("span",{className:"inline-flex rounded-full px-2 text-xs font-semibold leading-5 ".concat("معتمد"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})})]},e.id))})]})})]})]})})]}):(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsx)("div",{className:"text-lg",children:"المشروع غير موجود"})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[615,173,441,517,358],()=>s(3102)),_N_E=e.O()}]);