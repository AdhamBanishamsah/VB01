(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[850],{8549:(e,s,t)=>{Promise.resolve().then(t.bind(t,1377))},6046:(e,s,t)=>{"use strict";var a=t(6658);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},1377:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var a=t(5155),r=t(2615),i=t(6046),n=t(2115),c=t(8173),l=t.n(c);let d=[{id:1,name:"مشروع 1",client:"عميل 1",startDate:"2024-03-01",endDate:"2024-06-30",status:"جاري",progress:25},{id:2,name:"مشروع 2",client:"عميل 2",startDate:"2024-02-15",endDate:"2024-05-15",status:"جاري",progress:60},{id:3,name:"مشروع 3",client:"عميل 3",startDate:"2024-01-01",endDate:"2024-03-31",status:"مكتمل",progress:100}];function x(){let{data:e,status:s}=(0,r.useSession)(),t=(0,i.useRouter)();(0,n.useEffect)(()=>{var a;"unauthenticated"===s?t.push("/auth/login"):(null==e?void 0:null===(a=e.user)||void 0===a?void 0:a.role)!=="admin"&&t.push("/auth/login")},[s,e,t]);let c=async()=>{await (0,r.signOut)({redirect:!0,callbackUrl:"/auth/login"})};return"loading"===s?(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsx)("div",{className:"text-lg",children:"جاري التحميل..."})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsx)("header",{className:"fixed left-0 right-0 top-0 z-50 bg-white shadow-md",children:(0,a.jsx)("div",{className:"mx-auto max-w-7xl px-4 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Viken Bad"}),(0,a.jsx)("button",{onClick:c,className:"rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"تسجيل خروج"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between border-t pt-4",children:[(0,a.jsxs)("nav",{className:"flex items-center space-x-6 space-x-reverse",children:[(0,a.jsx)(l(),{href:"/admin/users",className:"text-sm font-medium text-gray-700 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"إدارة المستخدمين"}),(0,a.jsx)(l(),{href:"/admin/projects",className:"text-sm font-medium text-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"المشاريع"})]}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"لوحة الإدارة"})]})]})})}),(0,a.jsx)("main",{className:"mx-auto max-w-7xl px-4 pt-32",children:(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"rounded-xl bg-white p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"إدارة المشاريع"}),(0,a.jsx)("button",{className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"إضافة مشروع جديد"})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"اسم المشروع"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"العميل"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"تاريخ البدء"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"تاريخ الانتهاء"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"الحالة"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"نسبة الإنجاز"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500",children:"الإجراءات"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:d.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,a.jsx)(l(),{href:"/admin/projects/".concat(e.id),className:"text-sm font-medium text-blue-600 hover:text-blue-900",children:e.name})}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.client})}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.startDate})}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.endDate})}),(0,a.jsx)("td",{className:"whitespace-nowrap px-6 py-4",children:(0,a.jsx)("span",{className:"inline-flex rounded-full px-2 text-xs font-semibold leading-5 ".concat("مكتمل"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,a.jsxs)("td",{className:"whitespace-nowrap px-6 py-4",children:[(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(e.progress,"%")}})}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 mt-1",children:[e.progress,"%"]})]}),(0,a.jsxs)("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium",children:[(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-900",children:"تعديل"}),(0,a.jsx)("span",{className:"mx-2 text-gray-300",children:"|"}),(0,a.jsx)("button",{className:"text-red-600 hover:text-red-900",children:"حذف"})]})]},e.id))})]})})]})})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[615,173,441,517,358],()=>s(8549)),_N_E=e.O()}]);